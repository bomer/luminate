
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - geometry - cube</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0px;
				background-color: #000000;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="three.min.js"></script>

		<script>

var scene, camera, renderer;
var geometry, material, mesh;
var inactiveBlocks=[]; //16 wide by 10 height as on PSP
var player = {};
var width=16;
var height=10;

var keys = []; //Key Binding
window.onkeyup = function(e) {keys[e.keyCode]=false; player.movelock=false; player.spinlock=false;}
window.onkeydown = function(e) {keys[e.keyCode]=true; console.log('key down ' + e.keyCode);}

init();
animate();

function init() {

	//Camera
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
    camera.position.z = 1000;

    geometry = new THREE.BoxGeometry( 200, 200, 200 );
    material = new THREE.MeshPhongMaterial( { color: 0xff0000, wireframe: false } );

    player.x=width/2;
    player.y=2;

    //setup player block 
    player.group = new THREE.Object3D();//create an empty container
    mesh = new THREE.Mesh( geometry, material );
    player.group.add(mesh);
	
    mesh = new THREE.Mesh( geometry, material );
    mesh.position.x+=220;
    player.group.add(mesh);

    mesh = new THREE.Mesh( geometry, material );
    mesh.position.x+=220;
    mesh.position.y-=220;
    player.group.add(mesh);

    mesh = new THREE.Mesh( geometry, material );
    mesh.position.y-=220;
    player.group.add(mesh);

    scene.add( player.group );//when done, add the group to the scene


    renderer = new THREE.WebGLRenderer({ antialias: false });
    renderer.setSize( window.innerWidth, window.innerHeight );

    //lights
    var lights = [];
	lights[ 0 ] = new THREE.PointLight( 0xffffff, 1, 0 );
	lights[ 1 ] = new THREE.PointLight( 0xffffff, 1, 0 );
	lights[ 2 ] = new THREE.PointLight( 0xffffff, 1, 0 );
	lights[ 3 ] = new THREE.PointLight( 0xffffff, 1, 0 );


	lights[ 0 ].position.set( 0, 200, 0 );
	lights[ 1 ].position.set( 100, 200, 100 );
	lights[ 2 ].position.set( - 100, 100, 200 );
	lights[ 3 ].position.set( 100, - 200, - 100 );

	scene.add( lights[ 0 ] );
	scene.add( lights[ 1 ] );
	scene.add( lights[ 2 ] );
	scene.add( lights[ 3 ] );

  

    document.body.appendChild( renderer.domElement );

}

function handleInput(){
	if (keys[37] && !player.locked ){	//Left arrow
		player.x--;
		player.locked=true;
	}
	if (keys[39] && !player.locked){	//Right arrow
		player.x++;
		player.locked=true;
	}

}

function updateGame(){
	// mesh.rotation.x += 0.01;
	//Handle Input First
	handleInput()

}

function animate() {

    requestAnimationFrame( animate );

    updateGame()
    
    renderer.render( scene, camera );

}



		</script>

	</body>
</html>
